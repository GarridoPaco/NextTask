const generalView=!1,kanbanView=!0;function closeModal(){document.querySelectorAll(".modal-overlay").forEach((function(t){t.style.display="none"}))}async function showTasksKanban(){const t=document.getElementById("loading-overlay");try{const a=await getTasks(),n=await getCollaborators();selectCollaborators(n);const e=await getAssign(),s=await getUser(),o=await getProject();document.querySelectorAll("#addTask").forEach((function(t){t.onclick=function(){newTaskModal(a,s,o)}}));const c=document.querySelector("#tasksListToDo");c.innerHTML="";const i=document.querySelector("#tasksListInProgress");i.innerHTML="";const r=document.querySelector("#tasksListFinish");r.innerHTML="";const l=a.map(t=>{switch(t.status){case"0":return taskBin(a,t,e,n,c,s,o);case"1":return taskBin(a,t,e,n,i,s,o);case"2":return taskBin(a,t,e,n,r,s,o)}});Promise.all(l).then(()=>{showContentTask(),taskActionsMenu();document.querySelectorAll(".checkTask").forEach(t=>{t.addEventListener("click",(async function(){const t=this.closest(".taskContainer").dataset.taskId,n=a.find(a=>a.id===t);n.status=(n.status+1)%3,await updateTask(n),await showTasksKanban()}))}),t.style.display="none"})}catch(a){t.style.display="none",infoAction.fire({icon:"error",title:"No se ha podido cargar la pagina"}),console.log(a)}}showTasksKanban();